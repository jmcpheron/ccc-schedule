<!DOCTYPE html>
<html>
<head>
    <title>Filter Test</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Testing CCC Schedule Filters</h1>
    <div id="results"></div>
    
    <script>
    // Load the data and test filters
    $.getJSON('data/courses.json')
        .done(function(data) {
            const courses = data.courses;
            console.log('Total courses:', courses.length);
            
            // Test 1: Non-credit filter
            const ncCourses = courses.filter(c => c.creditType === 'NC');
            console.log('Non-credit courses:', ncCourses.length, ncCourses.map(c => c.subj));
            
            // Test 2: Sunday classes
            const sundayCourses = courses.filter(c => 
                c.sections && c.sections.some(s => s.days && s.days.includes('U'))
            );
            console.log('Sunday courses:', sundayCourses.length, sundayCourses.map(c => c.subj));
            
            // Test 3: Short term classes
            const shortTermCourses = courses.filter(c => 
                c.sections && c.sections.some(s => s.length === 'Short Term')
            );
            console.log('Short term courses:', shortTermCourses.length, shortTermCourses.map(c => c.subj));
            
            // Test 4: Synchronous online
            const sonCourses = courses.filter(c => 
                c.sections && c.sections.some(s => s.instrMethod === 'SON')
            );
            console.log('Synchronous online courses:', sonCourses.length, sonCourses.map(c => c.subj));
            
            // Test 5: Early morning (before 7am)
            const earlyCourses = courses.filter(c => 
                c.sections && c.sections.some(s => s.startTime && s.startTime < '07:00')
            );
            console.log('Early morning courses:', earlyCourses.length, earlyCourses.map(c => c.subj));
            
            // Test 6: Instructor search
            const instructorName = 'Shadow';
            const instructorCourses = courses.filter(c => 
                c.sections && c.sections.some(s => 
                    s.instructorName && s.instructorName.toLowerCase().includes(instructorName.toLowerCase())
                )
            );
            console.log('Courses with instructor "Shadow":', instructorCourses.length, instructorCourses.map(c => c.subj));
            
            // Display results
            $('#results').html(`
                <ul>
                    <li>Total courses: ${courses.length}</li>
                    <li>Non-credit courses: ${ncCourses.length} - ${ncCourses.map(c => c.subj).join(', ')}</li>
                    <li>Sunday courses: ${sundayCourses.length} - ${sundayCourses.map(c => c.subj).join(', ')}</li>
                    <li>Short term courses: ${shortTermCourses.length} - ${shortTermCourses.map(c => c.subj).join(', ')}</li>
                    <li>Synchronous online: ${sonCourses.length} - ${sonCourses.map(c => c.subj).join(', ')}</li>
                    <li>Early morning: ${earlyCourses.length} - ${earlyCourses.map(c => c.subj).join(', ')}</li>
                    <li>Instructor "Shadow": ${instructorCourses.length} - ${instructorCourses.map(c => c.subj).join(', ')}</li>
                </ul>
            `);
        })
        .fail(function(jqXHR, textStatus, errorThrown) {
            console.error('Failed to load courses:', textStatus, errorThrown);
            $('#results').html('<p>Error loading courses.json</p>');
        });
    </script>
</body>
</html>